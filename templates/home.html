<div ng-include="'templates/_nav.html'"></div>
<main class="container">
    <div class="row">
        <input type="text" ng-model="busca" placeholder="Busca">
    </div>
    <table class="striped">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Email</th>
                <th>Nota 1</th>
                <th>Nota 2</th>
                <th>Nota 3</th>
                <th>Média</th>
                <th>Ação</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="aluno in alunos | filter:busca">
                <td>{{aluno.nome}}</td>
                <td>{{aluno.email}}</td>
                <td>{{aluno.nota1}}</td>
                <td>{{aluno.nota2}}</td>
                <td>{{aluno.nota3}}</td>
                <td>{{aluno.media}}</td>
                <td>
                    <button data-target="modal1" ng-click="editarAluno(aluno)"
                        class="btn blue modal-trigger">Editar</button>
                    <button ng-click="deletarAluno(aluno)" class="btn red">Deletar</button>
                </td>
            </tr>
        </tbody>
        <div class="row">
            <button ng-click="abreAddAluno()" data-target="modal1" class="btn modal-trigger">Adicionar</button>
        </div>
    </table>
</main>
<!-- Modal Structure -->
<div id="modal1" class="modal modal-fixed-footer">
    <div class="modal-content">
        <h4 ng-if="!editando">Adicionar Aluno</h4>
        <h4 ng-if="editando">Editar Aluno</h4>
        <p>Preencha os dados do aluno.</p>
        <div class="row">
            <div class="input-field col m6 s12">
                <input type="text" ng-model="Aluno.nome" class="validate" placeholder="Nome">
            </div>
            <div class="input-field col m6 s12">
                <input type="text" ng-model="Aluno.email" class="validate" placeholder="E-Mail">
            </div>
            <div class="input-field col m4 s12">
                <input type="text" ng-model="Aluno.nota1" class="validate" placeholder="Nota 1">
            </div>
            <div class="input-field col m4 s12">
                <input type="text" ng-model="Aluno.nota2" class="validate" placeholder="Nota 2">
            </div>
            <div class="input-field col m4 s12">
                <input type="text" ng-model="Aluno.nota3" class="validate" placeholder="Nota 3">
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-close waves-effect waves-green btn-flat">Cancelar</a>
        <button ng-if="!editando" ng-click="addAluno(Aluno)" class="btn blue">Adicionar</button>
        <button ng-if="editando" ng-click="salvarAluno(Aluno)" class="btn blue">Salvar</button>
    </div>
</div>